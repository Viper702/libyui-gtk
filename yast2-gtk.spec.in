@HEADERCOMMENT@


@HEADER@
Url:      http://en.opensuse.org/YaST2-GTK
Summary:  YaST2 - GTK+ Graphical User Interface
Group:	System/YaST
License: GPL v2.1 or later
BuildRequires:  cmake
BuildRequires:  gcc-c++ blocxx-devel libxcrypt-devel
BuildRequires:  gtk2-devel
BuildRequires:  yast2-devtools >= 2.16.3
BuildRequires:  yast2-libyui-devel >= 2.18.8
BuildRequires:  libzypp-devel >= 6.3.0 
Requires:       yast2-libyui >= 2.18.8
Requires:       yast2_theme >= 2.16.1
Requires:  	    libzypp >= 6.3.0 
Provides:       yast2_ui yast2-ui-gtk
Provides:       yast2_ui_pkg

%description
One of several user interfaces available for YaST2, based on GTK and
the X Window System.



Authors:
--------
    Ricardo Cruz <rpmcruz@alunos.dcc.fc.up.pt>
    Michael Meeks <mmeeks@novell.com>

%prep
%setup

%build
mkdir build
cd build
export CFLAGS="$RPM_OPT_FLAGS"
export CXXFLAGS="$CFLAGS"
cmake -DCMAKE_INSTALL_PREFIX=%{_prefix} \
      -DLIB=%{_lib} \
      -DCMAKE_BUILD_TYPE=Release \
      -DCMAKE_SKIP_RPATH=1 \
      ..
make %{?jobs:-j %jobs} VERBOSE=1

%install
cd build
make install DESTDIR=$RPM_BUILD_ROOT
cd ..

%clean
rm -rf "$RPM_BUILD_ROOT"

%files
%defattr (-, root, root)
%dir %_libdir/YaST2
%_libdir/YaST2/plugin/
%_prefix/share/YaST2/gtk/

%changelog

